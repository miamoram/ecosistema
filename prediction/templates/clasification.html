{% extends 'base.html' %} {% block content %}
<h1>Clasificaci칩n</h1>
<form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="mb-3">
    <label for="space" class="form-label">Selecciona un espacio</label>
    <select class="form-select" aria-label="Default select example" id="space">
      {% for op in space %}
      <option value='{{op.id}}'>{{ op.name }}</option>
      {% endfor %}
    </select>    
  </div>
  <div class="mb-3">
    <label for="trash_can" class="form-label">Selecciona una caneca</label>    
    <select class="form-select" aria-label="Default select example" id="trash_can">
      {% for op in trash_can %}
      <option value='{{op.id}}'>{{ op.name }}</option>
      {% endfor %}      
    </select>    
  </div>
  <div class="mb-3">
    <label for="file" class="form-label">Carga de im치genes para generar identificaci칩n</label>
    <input class="form-control" type="file" id="file" name="file" multiple />
  </div>
  <button type="submit" class="btn btn-primary">Enviar</button>
</form>
<div class="container" style="padding-top: 5%">
  <div class="row">
    {% for x in data %}
    <div class="col-md-5">
      <div>
        {% load static %}
        <h2>Imagen cargada</h2>
        <a href="{{ x.photo.url }}">
          <img src="{{ x.photo.url }}" alt="Lights" class="img-fluid" />
        </a>
      </div>
    </div>
    <div class="col-md-5">
      <h2>Clasificaci칩n</h2>
      <div>
        <a href="{{ x.photo_predicted.url }}">
          <img
            src="{{ x.photo_predicted.url }}"
            alt="Lights"
            class="img-fluid"
          />
        </a>
      </div>
    </div>
    <div class="col-md-auto">
      <h2>Resultados</h2>
      {% for r in x.predicted.result %}
      {% load mathfilters %}
      <h4>{{ r.confidence|mul:100|floatformat:2|add:" %" }} {{r.name}}</h4>      
      {% endfor %}  
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
